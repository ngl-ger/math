---
title: "MaTh - Material and Methods"
author: "Joshua Johnson"
output: html_notebook
---
```{r Packages, echo=FALSE}
library(tidyverse)
library(dplyr)
library(ggplot2)
library(cowplot)
library(reshape2)
```

# Climate data 

Close to experimental Site (53°21'58.5"N|13°48'13.3"E). Data extracted from wetterkontor.com from weather station in Grünow (53°19'01.7"N|13°56'55.0"E)
```{r Climate Data}

#Read data as tibble (tidyverse)
climate <- 
  read_delim("C:/Users/jjohn/OneDrive/MScthesis/data/clim.csv",";",) %>%
  filter (date != 0)#deletes empty days (artifact from data mining)

climate$date <- as.Date(climate$date,"%d.%m.%Y") #formats the date correct 

#Summary statistics as we have day data, condense to month 
summary <- climate %>%
  mutate(month = format(date,"%m"), year = format (date, "%y"))%>% #new month and year var
  group_by(id, month, year)%>%                                    #group by new vars
  summarise(
    avg = mean(value) #mean it 
  )

# Plotting the weather data 

  summary$id <- 
    as.factor(summary$id)
  summary$time <- 
    lubridate::ymd(paste0(summary$year,summary$month,"01"))#reintroducing date format for ggplot2

  # Coloring for aes 
  my_color <- c ("deepskyblue1", "yellow", "black", "red", "dodgerblue4") 
  names(my_color) <- levels(summary$id)
  my_scale <- scale_fill_manual(name = "Group", values = my_color)  
  
  temp <- filter(summary, id =="temp_max" |id =="temp_min" | id=="temp_avg") #filtering temperature data so they can be plotted in one plot 

a <- ggplot(temp, aes(time,avg,group=id)) +
  geom_line() +
  scale_fill_manual(values=grp.clrs)+
  #scale_color_manual(values = my_colour) +
  NULL
a
  


```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
